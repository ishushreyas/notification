<body>

  <p id="token"> token</p>

</body>

<script type="module">

 

  // Import the functions you need from the SDKs you need

  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-app.js";

  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-analytics.js";

  // TODO: Add SDKs for Firebase products that you want to use

  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration

  // For Firebase JS SDK v7.20.0 and later, measurementId is optional

  const firebaseConfig = {

    apiKey: "AIzaSyAN-X9u7n7QnM8RLrVV4YnXq2MmVz6WNfw",

    authDomain: "em-issyoo.firebaseapp.com",

    projectId: "em-issyoo",

    storageBucket: "em-issyoo.appspot.com",

    messagingSenderId: "33480809995",

    appId: "1:33480809995:web:74df1e056f7638d0b5310e",

    measurementId: "G-C64NWHRT0Y"

  };

import { getMessaging, getToken } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-messaging.js";

  // Initialize Firebase

  const app = initializeApp(firebaseConfig);

const messaging = getMessaging(app);
// Add the public key generated from the console here.

//messaging.getToken({vapidKey: "BBS9RCRYHAlts9o3_n32hs1rdjY7k5mc8-FR7Tz05dSm3uULC8amdtyup3d2L_kQ-DX20sdH3dpAdvCyV9swjz0"});
  function requestPermission() {

  console.log('Requesting permission...');

  Notification.requestPermission().then((permission) => {

    if (permission === 'granted') {

      console.log('Notification permission granted.');

      alert('have permission');

         getToken(messaging, { vapidKey: 'BBS9RCRYHAlts9o3_n32hs1rdjY7k5mc8-FR7Tz05dSm3uULC8amdtyup3d2L_kQ-DX20sdH3dpAdvCyV9swjz0' }).then((currentToken) => {

  if (currentToken) {

    // Send the token to your server and update the UI if necessary

    // ...
    alert(currentToken);

  } else {

    // Show permission request UI

    alert('No registration token available. Request permission to generate one.');

    // ...

  }

}).catch((err) => {

  alert('An error occurred while retrieving token. ' + err);

  // ...

});

}

else{

  alert("no prmsn");

}

})}

requestPermission();

    

    </script>

    
  

  

  </script>
